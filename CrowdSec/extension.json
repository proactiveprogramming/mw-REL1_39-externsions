{
	"name": "CrowdSec",
	"author": [
		"MPThLee"
	],
	"url": "https://www.mediawiki.org/wiki/Extension:CrowdSec",
	"descriptionmsg": "crowdsec-desc",
	"license-name": "GPL-2.0+",
	"type": "antispam",
	"requires": {
		"MediaWiki": ">= 1.35.0"
	},
	"AvailableRights": [
		"crowdsec-bypass"
	],
	"GroupPermissions": {
		"sysop": {
			"crowdsec-bypass": true
		}
	},
	"AutoloadNamespaces": {
		"MediaWiki\\Extension\\CrowdSec\\": "src/"
	},
	"config": {
		"CrowdSecEnable": {
			"description": "Enable the CrowdSec feature.",
			"value": true
		},
		"CrowdSecAPIUrl": {
			"description": "Define the URL to your CrowdSec LAPI server, default to `http://localhost:8080`.",
			"value": "http://127.0.0.1:8080"
		},
		"CrowdSecAPIKey":{
			"description": "CrowdSec Bouncer Key. Key generated by the cscli (CrowdSec cli) command like `cscli bouncers add bouncer-mediawiki`",
			"value": ""
		},
		"CrowdSecCache": {
			"description": "CrowdSec's cache config. Default to `true` for performance",
			"value": true
		},
		"CrowdSecCacheTTL": {
			"description": "CrowdSec's Cache TTL. In seoncds. default to `604800` which is 7 days. (60 * 60 * 24 * 7)",
			"value": 604800
		},
		"CrowdSecFallbackBan": {
			"description": "If enabled, When LAPI throws error, It ban the user. Default to false.",
			"value": false 
		},
		"CrowdSecTreatTypesAsBan": {
			"description": "Type to treat as ban. Default to `[]`.",
			"value": []
		},
		"CrowdSecRestrictRead": {
			"description": "If enabled, IP who blocked doesn't read the wiki at all too. Not recommended to enable this. Default to `false`",
			"value": false
		},
		"CrowdSecReportOnly": {
			"description": "For debug purpose. Default to `false`",
			"value": false
		}
	},
	"Hooks": {
		"AbuseFilter-computeVariable": "MediaWiki\\Extension\\CrowdSec\\Hooks::abuseFilterComputeVariable",
		"AbuseFilter-generateUserVars": "MediaWiki\\Extension\\CrowdSec\\Hooks::abuseFilterGenerateUserVars",
		"AbuseFilter-builder": "MediaWiki\\Extension\\CrowdSec\\Hooks::abuseFilterBuilder",
		"getUserPermissionsErrorsExpensive": "MediaWiki\\Extension\\CrowdSec\\Hooks::onGetUserPermissionsErrorsExpensive",
		"OtherBlockLogLink": "MediaWiki\\Extension\\CrowdSec\\Hooks::onOtherBlockLogLink"
	},
	"MessagesDirs": {
		"CrowdSec": [
			"i18n"
		]
	},
	"manifest_version": 2
}
